version: 2

macros:
  - name: generate_schema_name
    description: "This overrides the dbt-core function for setting schemas. For PR tests, the schema is set to delta for tables and incremental tables and global_temp for views"
    arguments:
      - name: custom_schema_name
        type: column name or expression
        description: "Custom schema name"
      - name: node
        type: column name or expression
        description: "Node"  

  - name: get_custom_alias
    description: "This overrides the dbt-core function for setting aliases. For PR test, the alias is set to the file path. "
    arguments:
      - name: custom_alias_name
        type: column name or expression
        description: "Custom alias name"
      - name: node
        type: column name or expression
        description: "Node"

  - name: create_or_replace_view
    description: "This overrides the dbt-core function for materializing a view. For PR tests, all views are global temporary views"

  - name: create_dt_as
    description: "This macro is used to write a delta table without a metastore connection"
